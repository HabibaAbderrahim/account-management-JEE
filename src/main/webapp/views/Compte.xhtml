<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head></h:head>
<body>
	<h:form>

		<p:commandButton value="+" style="float:right"
			onclick="PF('dlg3').show();"></p:commandButton>
		<p:dataTable value="#{compteBean.list}" var="cpt">

			<p:column headerText="Date crÃ©ation">
				<h:outputText value="#{cpt.date}" />
			</p:column>
			<p:column headerText="Typecompte">
				<h:outputText value="#{cpt.type}" />
			</p:column>
			<p:column headerText="Solde">
				<h:outputText value="#{cpt.solde}" />
			</p:column>
			<p:column headerText="Client">
				<h:outputText value="#{cpt.personne.nom} #{cpt.personne.prenom}" />
			</p:column>
		</p:dataTable>

		<p:dialog header="Compte" widgetVar="dlg3" showEffect="explode"
			modal="true" hideEffect="bounce" resizable="false">

			<!-- ID auto inc !! -->
			<h:panelGrid>

				<h:outputText value="Date"></h:outputText>
				<p:calendar value="#{compteBean.compte.date}" pattern="dd/MM/yyyy"></p:calendar>

				<h:outputText value="Client" />
				<p:selectOneMenu value="#{compteBean.compte.personne.cin}"
					filter="true" filterMatchMode="contains">
					<f:selectItems value="#{personneBean.list}" var="pers"
						itemLabel="#{pers.nom} #{pers.prenom}" itemValue="#{pers.cin}" />
					<!--  list dynam -->
				</p:selectOneMenu>

				<h:outputText value="Type"></h:outputText>
				<p:selectOneMenu value="#{compteBean.compte.type}">
					<f:selectItem itemLabel="Compte Courant" itemValue="Compte Courant"></f:selectItem>
					<!-- static -->
					<f:selectItem itemLabel="Compte Epargne" itemValue="Compte Epargne"></f:selectItem>
					<f:selectItem itemLabel="Compte Devise" itemValue="Compte Devise"></f:selectItem>
				</p:selectOneMenu>

				<h:outputText value="Solde" />
				<p:inputText value="#{compteBean.compte.solde}">
					<p:keyFilter regEx="/[\d\.]/" />

				</p:inputText>
			</h:panelGrid>
		</p:dialog>

	</h:form>

</body>
</html>
