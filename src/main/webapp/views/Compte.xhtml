<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head></h:head>
<body>
	<h:form>

		<p:commandButton value="+" style="float:right"
			onclick="PF('dlg3').show();"></p:commandButton>
		<p:dataTable value="#{compteBean.list}" var="cpt">

			<p:column headerText="Date crÃ©ation">
				<h:outputText value="#{cpt.date}" />
			</p:column>
			<p:column headerText="Typecompte">
				<h:outputText value="#{cpt.type}" />
			</p:column>
			<p:column headerText="Solde">
				<h:outputText value="#{cpt.solde}" />
			</p:column>
			<p:column headerText="Client">
				<h:outputText value="#{cpt.personne.nom} #{cpt.personne.prenom}" />
			</p:column>
		</p:dataTable>

		<p:dialog header="Compte" widgetVar="dlg3" showEffect="explode"
			modal="true" hideEffect="bounce" resizable="false">

			<!-- ID auto inc !! -->
			<h:panelGrid>
				<h:outputText value="Date"></h:outputText>
				<p:calendar value="#{compteBean.compte.date}" pattern="dd/MM/yyyy"></p:calendar>
				<h:outputText value="Client" />
				<p:selectOneMenu>


					<f:selectItems value="#{personneBean.list}" var="pers" 
					itemLabel="#{pers.nom} #{pers.prenom}" itemValue="#{per.cin}" /><!--  list dynam -->
				</p:selectOneMenu>
			</h:panelGrid>
		</p:dialog>

	</h:form>

</body>
</html>
